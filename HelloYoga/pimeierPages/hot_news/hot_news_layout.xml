<?xml version="1.0" encoding="UTF-8"?>
<!-- çƒ­æ¦œæ–°é—»é¡µé¢ -->
<container 
    flexDirection="column" 
    width="100%" 
    height="100%" 
    backgroundColor="systemBackground">
    
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <view 
        height="122" 
        backgroundColor="#FF6B35" 
        flexDirection="row" 
        alignItems="flexEnd" 
        paddingBottom="12"
        paddingLeft="20"
        paddingRight="20">
        <text 
            text="{{ viewModel.navTitle }}"
            fontSize="22"
            fontWeight="bold"
            color="white"/>
        <view flexGrow="1"/>
        <text 
            text="{{ viewModel.updateTime }}"
            fontSize="12"
            color="white"
            opacity="0.8"/>
    </view>
    
    <!-- åˆ†ç±»æ ‡ç­¾æ  -->
    <view 
        height="50"
        backgroundColor="white"
        flexDirection="row"
        alignItems="center"
        paddingLeft="15"
        paddingRight="15"
        borderWidth="0.5"
        borderColor="#E0E0E0">
        <view 
            flexGrow="1"
            flexDirection="row"
            alignItems="center"
            paddingLeft="15"
            paddingRight="15">
            <text 
                text="å…¨éƒ¨"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'all' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'all' ? '#FF6B35' : '#666666' }}"
                marginRight="20"
                onClick="switchCategory('all')"/>
            <text 
                text="ç§‘æŠ€"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'tech' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'tech' ? '#FF6B35' : '#666666' }}"
                marginRight="20"
                onClick="switchCategory('tech')"/>
            <text 
                text="å¨±ä¹"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'entertainment' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'entertainment' ? '#FF6B35' : '#666666' }}"
                marginRight="20"
                onClick="switchCategory('entertainment')"/>
            <text 
                text="ä½“è‚²"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'sports' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'sports' ? '#FF6B35' : '#666666' }}"
                marginRight="20"
                onClick="switchCategory('sports')"/>
            <text 
                text="è´¢ç»"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'finance' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'finance' ? '#FF6B35' : '#666666' }}"
                marginRight="20"
                onClick="switchCategory('finance')"/>
            <text 
                text="ç¤¾ä¼š"
                fontSize="15"
                fontWeight="{{ viewModel.currentCategory === 'society' ? 'bold' : 'regular' }}"
                color="{{ viewModel.currentCategory === 'society' ? '#FF6B35' : '#666666' }}"
                onClick="switchCategory('society')"/>
        </view>
    </view>
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ - æ–°é—»åˆ—è¡¨ -->
    <list-view 
        dataSource="{{ viewModel.newsList }}"
        flexGrow="1"
        width="100%"
        backgroundColor="#F5F5F5"
        padding="10"
        paddingTop="10"
        paddingBottom="10">
        
        <!-- æ¨¡æ¿ 1: æ ‡å‡†æ–°é—»å¡ç‰‡ (å¸¦å›¾ç‰‡) -->
        <template type="news">
            <view 
                width="100%" 
                height="120" 
                backgroundColor="white" 
                cornerRadius="12"
                flexDirection="row"
                padding="12"
                marginBottom="10"
                onClick="openNewsDetail(item.id)">
                <!-- å·¦ä¾§å†…å®¹ -->
                <view flexGrow="1" flexDirection="column" justifyContent="spaceBetween" marginRight="10">
                    <text 
                        text="{{ item.title }}" 
                        fontSize="16" 
                        fontWeight="bold" 
                        color="#333333"
                        numberOfLines="2"/>
                    <view flexDirection="row" alignItems="center" marginTop="8">
                        <text 
                            text="{{ item.source }}"
                            fontSize="12"
                            color="#999999"/>
                        <text 
                            text=" Â· "
                            fontSize="12"
                            color="#E0E0E0"/>
                        <text 
                            text="{{ item.time }}"
                            fontSize="12"
                            color="#999999"/>
                        <view flexGrow="1"/>
                        <text 
                            text="{{ item.hot ? 'ðŸ”¥' : '' }}"
                            fontSize="12"/>
                        <text 
                            text="{{ item.rank ? '#' + item.rank : '' }}"
                            fontSize="12"
                            color="#FF6B35"
                            fontWeight="bold"
                            marginLeft="4"/>
                    </view>
                </view>
                <!-- å³ä¾§å›¾ç‰‡ -->
                <image 
                    imageURL="{{ item.image }}"
                    imageName=""
                    width="100"
                    height="96"
                    contentMode="scaleAspectFill"
                    cornerRadius="6"/>
            </view>
        </template>
        
        <!-- æ¨¡æ¿ 2: çº¯æ–‡å­—æ–°é—»å¡ç‰‡ (æ— å›¾ç‰‡) -->
        <template type="news_text">
            <view 
                width="100%" 
                minHeight="80" 
                backgroundColor="white" 
                cornerRadius="12"
                flexDirection="column"
                padding="15"
                marginBottom="10"
                onClick="openNewsDetail(item.id)">
                <text 
                    text="{{ item.title }}" 
                    fontSize="16" 
                    fontWeight="bold" 
                    color="#333333"
                    numberOfLines="3"/>
                <view flexDirection="row" alignItems="center" marginTop="10">
                    <text 
                        text="{{ item.source }}"
                        fontSize="12"
                        color="#999999"/>
                    <text 
                        text=" Â· "
                        fontSize="12"
                        color="#E0E0E0"/>
                    <text 
                        text="{{ item.time }}"
                        fontSize="12"
                        color="#999999"/>
                    <view flexGrow="1"/>
                    <text 
                        text="{{ item.hot ? 'ðŸ”¥' : '' }}"
                        fontSize="12"/>
                </view>
            </view>
        </template>
        
        <!-- æ¨¡æ¿ 3: åŠ è½½ä¸­ -->
        <template type="loading">
            <view 
                width="100%" 
                height="60" 
                backgroundColor="transparent"
                justifyContent="center"
                alignItems="center">
                <text 
                    text="åŠ è½½ä¸­..."
                    fontSize="14"
                    color="#999999"/>
            </view>
        </template>
        
        <!-- æ¨¡æ¿ 4: ç©ºçŠ¶æ€ -->
        <template type="empty">
            <view 
                width="100%" 
                height="200" 
                backgroundColor="transparent"
                justifyContent="center"
                alignItems="center">
                <text 
                    text="æš‚æ— æ–°é—»"
                    fontSize="16"
                    color="#999999"/>
            </view>
        </template>
    </list-view>
    
    <!-- åº•éƒ¨åˆ·æ–°æç¤º -->
    <view 
        if="{{ viewModel.isRefreshing }}"
        height="50"
        backgroundColor="#F5F5F5"
        justifyContent="center"
        alignItems="center">
        <text 
            text="æ­£åœ¨åˆ·æ–°..."
            fontSize="14"
            color="#999999"/>
    </view>
</container>

