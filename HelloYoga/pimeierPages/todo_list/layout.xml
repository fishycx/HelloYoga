<?xml version="1.0" encoding="utf-8"?>
<container flexDirection="column" backgroundColor="systemBackground" height="100%" width="100%">
    <header height="80" width="100%" backgroundColor="systemBlue" justifyContent="flexEnd" paddingBottom="15" alignItems="center">
        <text text="{{ viewModel.title }}" color="white" fontSize="20" fontWeight="bold"/>
    </header>
    
    <!-- Input Area -->
    <container flexDirection="row" padding="15" width="100%" alignItems="center">
        <input id="todoInput" 
               flex="1" 
               height="44" 
               placeholder="Add a new task..." 
               borderStyle="roundedRect" 
               marginRight="10"
               backgroundColor="systemGray6"
               text="{{ viewModel.inputText }}"/>
               
        <button id="addButton" 
                width="60" 
                height="44" 
                title="Add" 
                titleColor="white" 
                backgroundColor="systemBlue" 
                cornerRadius="8"
                onClick="addTodo()"/>
    </container>
    
    <!-- List Area -->
    <scrollView flex="1" width="100%" backgroundColor="#f5f5f5">
        <container id="todoListContainer" width="100%" padding="15" flexDirection="column">
            
            <!-- Custom Component Demo -->
            <container flexDirection="row" width="100%" height="50" alignItems="center" justifyContent="center" marginBottom="10">
                <text text="Custom Circle:" marginRight="10"/>
                <circle width="30" height="30" color="orange" marginRight="10"/>
                <circle width="30" height="30" color="purple"/>
            </container>

            <!-- Empty State -->
            <text text="No tasks yet. Add one above!" 
                  color="gray" 
                  textAlign="center" 
                  marginTop="20" 
                  if="viewModel.todos.length == 0"/>
            
            <!-- Dynamic Items -->
            <container for="todo in viewModel.todos"
                       flexDirection="row" 
                       width="100%" 
                       height="60" 
                       marginBottom="10" 
                       padding="10" 
                       alignItems="center" 
                       backgroundColor="white" 
                       cornerRadius="8"
                       shadowColor="black"
                       shadowOpacity="0.1"
                       shadowRadius="2"
                       shadowOffset="0,2">
                       
                <text text="{{ todo.title }}" 
                      color="black" 
                      fontSize="16" 
                      flex="1" 
                      marginRight="10"/>
                      
                <button width="60" 
                        height="40" 
                        title="Done" 
                        titleColor="systemRed" 
                        backgroundColor="clear" 
                        onClick="removeTodo({{ index }})"/>
            </container>
            
        </container>
    </scrollView>
</container>
